{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/AppBar/Header.js","components/AppBar/AppBar.js","components/Container/Container.js","components/Layout/Layout.js","components/Modal/Modal.js","components/Searchbar/SearchForm.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/pixabay-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Header","text","AppBar","className","Container","children","Layout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","style","Overlay","onClick","Component","SearchForm","state","query","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","type","button","label","input","placeholder","onChange","Searchbar","ImageGalleryItem","largeImageURL","src","webformatURL","alt","id","image","ImageGallery","images","map","Button","axios","defaults","baseURL","searchQuery","currentPage","per_page","get","then","response","data","hits","App","isLoading","showModal","error","fetchImages","option","pixabayApi","length","prevState","scrollTo","top","documentElement","scrollHeight","behavior","alert","catch","finally","onChangeQuery","onChangeUrl","url","toggleModal","prevProps","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fb3f5a6b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__ZppqN\",\"Modal\":\"Modal_Modal__3E5Xg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__lmi0Y\",\"image\":\"ImageGalleryItem_image__35P9m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1W4s2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__ecdvc\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Header = ({ text }) => (\n  <div>\n    <h1>{text}</h1>\n  </div>\n);\n\nHeader.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport './AppBar.css';\nimport Header from './Header';\n\nconst AppBar = ({ text }) => (\n  <header className=\"AppBar\">\n    <Header text={text} />\n  </header>\n);\n\nexport default AppBar;\n","import React from 'react';\nimport './Container.css';\n\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\n\nexport default Container;\n","import React from 'react';\nimport AppBar from '../AppBar';\nimport Container from '../Container';\n\nconst Layout = ({ children }) => (\n  <>\n    <AppBar text=\"React. HomeWork-3.2. Image Finder.\" />\n    <Container>{children}</Container>\n  </>\n);\n\nexport default Layout;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport style from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={style.Overlay} onClick={this.handleBackdropClick}>\n        <div className={style.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport style from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <form className={style.SearchForm} onSubmit={this.handleSubmit}>\n        <button type=\"submit\" className={style.button}>\n          <span className={style.label}>Search</span>\n        </button>\n        <input\n          className={style.input}\n          type=\"text\"\n          // autofocus\n          // autocomplete=\"off\"\n          placeholder=\"Search images and photos\"\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport style from './Searchbar.module.css';\nimport SearchForm from './SearchForm';\n\nconst Searchbar = onSubmit => {\n  return (\n    <header className={style.Searchbar}>\n      <SearchForm onSubmit={onSubmit.onSubmit} />\n    </header>\n  );\n};\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport style from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nclass ImageGalleryItem extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n  };\n\n  state = {\n    largeImageURL: this.props.largeImageURL,\n  };\n\n  handleChange = () => {\n    this.props.onClick(this.state.largeImageURL);\n  };\n\n  render() {\n    return (\n      <div className={style.ImageGalleryItem} onClick={this.handleChange}>\n        <img\n          src={this.props.webformatURL}\n          alt={this.props.id}\n          className={style.image}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport style from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <ul className={style.ImageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL }) => (\n        <li key={id}>\n          <ImageGalleryItem\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            onClick={onClick}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport style from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={style.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\nconst PixabayKey = '19811356-e6efa31c9626364e7cdb6ab36';\n\nconst fetchPics = ({\n  searchQuery = 'wood',\n  currentPage = 1,\n  per_page = 12,\n}) => {\n  return axios\n    .get(\n      `/?key=${PixabayKey}&q=${searchQuery}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default { fetchPics };\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n\nimport Layout from './components/Layout';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\n\nimport pixabayApi from './services/pixabay-api';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    showModal: false,\n    error: null,\n    largeImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    this.setState({ isLoading: true });\n    const option = {\n      searchQuery: this.state.searchQuery,\n      currentPage: this.state.currentPage,\n    };\n\n    pixabayApi\n      .fetchPics(option)\n      .then(hits => {\n        if (!hits.length) {\n          alert(`Please enter more correct query`);\n          return;\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  onChangeUrl = url => {\n    this.setState({\n      largeImageURL: url,\n    });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, showModal, isLoading, largeImageURL } = this.state;\n\n    return (\n      <Layout>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        )}\n        <ImageGallery images={images} onClick={this.onChangeUrl} />\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n        {images.length > 0 && <Button onClick={this.fetchImages} />}\n      </Layout>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__tF-jD\",\"SearchForm\":\"Searchbar_SearchForm__2jteF\",\"button\":\"Searchbar_button__13_1K\",\"label\":\"Searchbar_label__1lRGc\",\"input\":\"Searchbar_input__1YCwy\"};"],"sourceRoot":""}